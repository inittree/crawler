# Crawler

## Задание

Необходимо создать простой интернет crawler, который будет доставать из страниц информацию о названии сайта.
Это должно быть приложение с http эндпоинтом. На этот эндпоинт поступает список http url'ов. Приложение должно пройтись по всем предоставленным урлам и достать оттуда название.
Названием условно будем считать содержимое тэга title. После изъятия информации из всех страниц эндпоинт должен вернуть ответ, в котором каждому входному урлу соответствует найденное название.
Все недостающие требования или неоднозначности начальной формулировки задачи вы должны разрешить самостоятельно - это является частью задания.

Единственное требование к реализации - приложение должно быть написано на языке Scala.

## Функциональность
- **Извлечение заголовков:** При успешном запросе страница парсится с помощью Jsoup для извлечения заголовка.
- **Обработка ошибок:**
    - Ошибки декодирования JSON запроса возвращают ответ с кодом 400.
    - Ошибки при выполнении HTTP-запроса или невалидные URL возвращают описание ошибки в ответе.

## Требования
- Scala 2.13
- sbt
- Java 8 или выше

## Известные проблемы и todo
- todo: Ошибки от клиента пробрасываются в текст, добавить свои (опираясь на бизнес-логику)
- todo: Нужно добавить application.conf и вынести адрес и порт сервера
- todo: Валидировать url - не делать бессмысленных запросов

## Запуск
```bash
sbt run
```
Сервер будет запущен на http://0.0.0.0:8080

### Пример запроса
```bash
curl --request POST \
  --url http://0.0.0.0:8080/fetchUrlsInfos \
  --header 'content-type: application/json' \
  --data '{
  "urls": [
    "example.com",
    "http://example.com/",
    "https://example.com/",
    "invalid url",
    "validbutnotavalibleurl.com"
  ]
}'
```

### Пример ответа
```json
[
  {
    "url": "example.com",
    "title": null,
    "error": "Fetch error: Connection refused"
  },
  {
    "url": "http://example.com/",
    "title": "Example Domain",
    "error": null
  },
  {
    "url": "https://example.com/",
    "title": "Example Domain",
    "error": null
  },
  {
    "url": "invalid url",
    "title": null,
    "error": "Fetch error: Invalid URI: invalid url\n       ^\nexpectation:\n* must end the string"
  },
  {
    "url": "validbutnotavalibleurl.com",
    "title": null,
    "error": "Fetch error: Connection refused"
  }
]
```
